{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transactionManagerReducer = void 0;\n\nfunction transactionManagerReducer(state, action) {\n  if (action.type === 'add_transaction') {\n    return { ...state,\n      transactions: state.transactions.push(action.transaction)\n    };\n  } else if (action.type === 'remove_transaction') {\n    return { ...state,\n      transactions: state.transactions.filter(tx => tx.transactionHash !== action.transactionHash)\n    };\n  } else if (action.type === 'update_transaction') {\n    if (action.transactionResponse.status === 'NOT_RECEIVED') {\n      return state;\n    }\n\n    const entry = state.transactions.findEntry(tx => tx.transactionHash === action.transactionHash);\n\n    if (!entry) {\n      return state;\n    }\n\n    const [transactionIndex, oldTransaction] = entry;\n    const newTransaction = {\n      status: action.transactionResponse.status,\n      transaction: action.transactionResponse.transaction,\n      transactionHash: action.transactionHash,\n      lastUpdatedAt: action.lastUpdatedAt,\n      metadata: oldTransaction.metadata\n    };\n    return { ...state,\n      transactions: state.transactions.set(transactionIndex, newTransaction)\n    };\n  }\n\n  return state;\n}\n\nexports.transactionManagerReducer = transactionManagerReducer;","map":{"version":3,"mappings":";;;;;;;AA2BA,SAAgBA,yBAAhB,CACEC,KADF,EAEEC,MAFF,EAEgB;EAEd,IAAIA,MAAM,CAACC,IAAP,KAAgB,iBAApB,EAAuC;IACrC,OAAO,EACL,GAAGF,KADE;MAELG,YAAY,EAAEH,KAAK,CAACG,YAAN,CAAmBC,IAAnB,CAAwBH,MAAM,CAACI,WAA/B;IAFT,CAAP;EAID,CALD,MAKO,IAAIJ,MAAM,CAACC,IAAP,KAAgB,oBAApB,EAA0C;IAC/C,OAAO,EACL,GAAGF,KADE;MAELG,YAAY,EAAEH,KAAK,CAACG,YAAN,CAAmBG,MAAnB,CACXC,EAAD,IAAQA,EAAE,CAACC,eAAH,KAAuBP,MAAM,CAACO,eAD1B;IAFT,CAAP;EAMD,CAPM,MAOA,IAAIP,MAAM,CAACC,IAAP,KAAgB,oBAApB,EAA0C;IAC/C,IAAID,MAAM,CAACQ,mBAAP,CAA2BC,MAA3B,KAAsC,cAA1C,EAA0D;MACxD,OAAOV,KAAP;IACD;;IAED,MAAMW,KAAK,GAAGX,KAAK,CAACG,YAAN,CAAmBS,SAAnB,CACXL,EAAD,IAAQA,EAAE,CAACC,eAAH,KAAuBP,MAAM,CAACO,eAD1B,CAAd;;IAIA,IAAI,CAACG,KAAL,EAAY;MACV,OAAOX,KAAP;IACD;;IAED,MAAM,CAACa,gBAAD,EAAmBC,cAAnB,IAAqCH,KAA3C;IAEA,MAAMI,cAAc,GAAgB;MAClCL,MAAM,EAAET,MAAM,CAACQ,mBAAP,CAA2BC,MADD;MAElCL,WAAW,EAAEJ,MAAM,CAACQ,mBAAP,CAA2BJ,WAFN;MAGlCG,eAAe,EAAEP,MAAM,CAACO,eAHU;MAIlCQ,aAAa,EAAEf,MAAM,CAACe,aAJY;MAKlCC,QAAQ,EAAEH,cAAc,CAACG;IALS,CAApC;IAQA,OAAO,EACL,GAAGjB,KADE;MAELG,YAAY,EAAEH,KAAK,CAACG,YAAN,CAAmBe,GAAnB,CAAuBL,gBAAvB,EAAyCE,cAAzC;IAFT,CAAP;EAID;;EAED,OAAOf,KAAP;AACD;;AA9CDmB","names":["transactionManagerReducer","state","action","type","transactions","push","transaction","filter","tx","transactionHash","transactionResponse","status","entry","findEntry","transactionIndex","oldTransaction","newTransaction","lastUpdatedAt","metadata","set","exports"],"sources":["../../../src/providers/transaction/reducer.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}