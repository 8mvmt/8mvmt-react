{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RpcProvider = void 0;\n\nvar fetchPonyfill_1 = __importDefault(require(\"../utils/fetchPonyfill\"));\n\nvar hash_1 = require(\"../utils/hash\");\n\nvar json_1 = require(\"../utils/json\");\n\nvar number_1 = require(\"../utils/number\");\n\nvar provider_1 = require(\"../utils/provider\");\n\nvar rpc_1 = require(\"../utils/responseParser/rpc\");\n\nvar stark_1 = require(\"../utils/stark\");\n\nvar RpcProvider =\n/** @class */\nfunction () {\n  function RpcProvider(optionsOrProvider) {\n    var _this = this;\n\n    this.responseParser = new rpc_1.RPCResponseParser();\n    var nodeUrl = optionsOrProvider.nodeUrl;\n    this.nodeUrl = nodeUrl;\n    this.getChainId().then(function (chainId) {\n      _this.chainId = chainId;\n    });\n  }\n\n  RpcProvider.prototype.fetchEndpoint = function (method, request) {\n    var _a;\n\n    return __awaiter(this, void 0, void 0, function () {\n      var requestData, rawResult, _b, error, result, code, message, error_1, data;\n\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            requestData = {\n              method: method,\n              jsonrpc: '2.0',\n              params: request,\n              id: 0\n            };\n            _c.label = 1;\n\n          case 1:\n            _c.trys.push([1, 4,, 5]);\n\n            return [4\n            /*yield*/\n            , (0, fetchPonyfill_1.default)(this.nodeUrl, {\n              method: 'POST',\n              body: (0, json_1.stringify)(requestData),\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            })];\n\n          case 2:\n            rawResult = _c.sent();\n            return [4\n            /*yield*/\n            , rawResult.json()];\n\n          case 3:\n            _b = _c.sent(), error = _b.error, result = _b.result;\n\n            if (error) {\n              code = error.code, message = error.message;\n              throw new Error(\"\".concat(code, \": \").concat(message));\n            } else {\n              return [2\n              /*return*/\n              , result];\n            }\n\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            error_1 = _c.sent();\n            data = (_a = error_1 === null || error_1 === void 0 ? void 0 : error_1.response) === null || _a === void 0 ? void 0 : _a.data;\n\n            if (data === null || data === void 0 ? void 0 : data.message) {\n              throw new Error(\"\".concat(data.code, \": \").concat(data.message));\n            }\n\n            throw error_1;\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  RpcProvider.prototype.getChainId = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_chainId')];\n      });\n    });\n  };\n\n  RpcProvider.prototype.getBlock = function (blockIdentifier) {\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var method;\n      return __generator(this, function (_a) {\n        method = typeof blockIdentifier === 'string' && (0, number_1.isHex)(blockIdentifier) ? 'starknet_getBlockByHash' : 'starknet_getBlockByNumber';\n        return [2\n        /*return*/\n        , this.fetchEndpoint(method, [blockIdentifier]).then(this.responseParser.parseGetBlockResponse)];\n      });\n    });\n  };\n\n  RpcProvider.prototype.getStorageAt = function (contractAddress, key, blockHashOrTag) {\n    if (blockHashOrTag === void 0) {\n      blockHashOrTag = 'pending';\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var parsedKey;\n      return __generator(this, function (_a) {\n        parsedKey = (0, number_1.toHex)((0, number_1.toBN)(key));\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_getStorageAt', [contractAddress, parsedKey, blockHashOrTag])];\n      });\n    });\n  };\n\n  RpcProvider.prototype.getTransaction = function (txHash) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_getTransactionByHash', [txHash]).then(this.responseParser.parseGetTransactionResponse)];\n      });\n    });\n  };\n\n  RpcProvider.prototype.getTransactionReceipt = function (txHash) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_getTransactionReceipt', [txHash]).then(this.responseParser.parseGetTransactionReceiptResponse)];\n      });\n    });\n  };\n\n  RpcProvider.prototype.getClassAt = function (contractAddress, _blockIdentifier) {\n    if (_blockIdentifier === void 0) {\n      _blockIdentifier = 'pending';\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_getClassAt', [contractAddress])];\n      });\n    });\n  };\n\n  RpcProvider.prototype.getEstimateFee = function (invocation, blockIdentifier, invocationDetails) {\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n\n    if (invocationDetails === void 0) {\n      invocationDetails = {};\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_estimateFee', [{\n          contract_address: invocation.contractAddress,\n          entry_point_selector: (0, hash_1.getSelectorFromName)(invocation.entrypoint),\n          calldata: (0, provider_1.parseCalldata)(invocation.calldata),\n          signature: (0, number_1.bigNumberishArrayToDecimalStringArray)(invocation.signature || []),\n          version: (0, number_1.toHex)((0, number_1.toBN)((invocationDetails === null || invocationDetails === void 0 ? void 0 : invocationDetails.version) || 0))\n        }, blockIdentifier]).then(this.responseParser.parseFeeEstimateResponse)];\n      });\n    });\n  };\n\n  RpcProvider.prototype.declareContract = function (_a) {\n    var contract = _a.contract,\n        version = _a.version;\n    return __awaiter(this, void 0, void 0, function () {\n      var contractDefinition;\n      return __generator(this, function (_b) {\n        contractDefinition = (0, provider_1.parseContract)(contract);\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_addDeclareTransaction', [{\n          program: contractDefinition.program,\n          entry_points_by_type: contractDefinition.entry_points_by_type\n        }, (0, number_1.toHex)((0, number_1.toBN)(version || 0))]).then(this.responseParser.parseDeclareContractResponse)];\n      });\n    });\n  };\n\n  RpcProvider.prototype.deployContract = function (_a) {\n    var contract = _a.contract,\n        constructorCalldata = _a.constructorCalldata,\n        addressSalt = _a.addressSalt;\n    return __awaiter(this, void 0, void 0, function () {\n      var contractDefinition;\n      return __generator(this, function (_b) {\n        contractDefinition = (0, provider_1.parseContract)(contract);\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_addDeployTransaction', [addressSalt !== null && addressSalt !== void 0 ? addressSalt : (0, stark_1.randomAddress)(), (0, number_1.bigNumberishArrayToDecimalStringArray)(constructorCalldata !== null && constructorCalldata !== void 0 ? constructorCalldata : []), {\n          program: contractDefinition.program,\n          entry_points_by_type: contractDefinition.entry_points_by_type\n        }]).then(this.responseParser.parseDeployContractResponse)];\n      });\n    });\n  };\n\n  RpcProvider.prototype.invokeFunction = function (functionInvocation, details) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_addInvokeTransaction', [{\n          contract_address: functionInvocation.contractAddress,\n          entry_point_selector: (0, hash_1.getSelectorFromName)(functionInvocation.entrypoint),\n          calldata: (0, provider_1.parseCalldata)(functionInvocation.calldata)\n        }, (0, number_1.bigNumberishArrayToDecimalStringArray)(functionInvocation.signature || []), (0, number_1.toHex)((0, number_1.toBN)(details.maxFee || 0)), (0, number_1.toHex)((0, number_1.toBN)(details.version || 0))]).then(this.responseParser.parseInvokeFunctionResponse)];\n      });\n    });\n  };\n\n  RpcProvider.prototype.callContract = function (call, blockIdentifier) {\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var result;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.fetchEndpoint('starknet_call', [{\n              contract_address: call.contractAddress,\n              entry_point_selector: (0, hash_1.getSelectorFromName)(call.entrypoint),\n              calldata: (0, provider_1.parseCalldata)(call.calldata)\n            }, blockIdentifier])];\n\n          case 1:\n            result = _a.sent();\n            return [2\n            /*return*/\n            , this.responseParser.parseCallContractResponse(result)];\n        }\n      });\n    });\n  };\n\n  RpcProvider.prototype.getCode = function (contractAddress, _blockIdentifier) {\n    return __awaiter(this, void 0, void 0, function () {\n      var result;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.fetchEndpoint('starknet_getCode', [contractAddress])];\n\n          case 1:\n            result = _a.sent();\n            return [2\n            /*return*/\n            , this.responseParser.parseGetCodeResponse(result)];\n        }\n      });\n    });\n  };\n\n  RpcProvider.prototype.waitForTransaction = function (txHash, retryInterval) {\n    if (retryInterval === void 0) {\n      retryInterval = 8000;\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var onchain, retries, successStates, errorStates, res, message, error, error_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            onchain = false;\n            retries = 100;\n            _a.label = 1;\n\n          case 1:\n            if (!!onchain) return [3\n            /*break*/\n            , 7];\n            successStates = ['ACCEPTED_ON_L1', 'ACCEPTED_ON_L2', 'PENDING'];\n            errorStates = ['REJECTED', 'NOT_RECEIVED']; // eslint-disable-next-line no-await-in-loop\n\n            return [4\n            /*yield*/\n            , (0, provider_1.wait)(retryInterval)];\n\n          case 2:\n            // eslint-disable-next-line no-await-in-loop\n            _a.sent();\n\n            _a.label = 3;\n\n          case 3:\n            _a.trys.push([3, 5,, 6]);\n\n            return [4\n            /*yield*/\n            , this.getTransactionReceipt(txHash)];\n\n          case 4:\n            res = _a.sent();\n\n            if (successStates.includes(res.status)) {\n              onchain = true;\n            } else if (errorStates.includes(res.status)) {\n              message = res.status;\n              error = new Error(message);\n              error.response = res;\n              throw error;\n            }\n\n            return [3\n            /*break*/\n            , 6];\n\n          case 5:\n            error_2 = _a.sent();\n\n            if (error_2 instanceof Error && errorStates.includes(error_2.message)) {\n              throw error_2;\n            }\n\n            if (retries === 0) {\n              throw error_2;\n            }\n\n            return [3\n            /*break*/\n            , 6];\n\n          case 6:\n            retries -= 1;\n            return [3\n            /*break*/\n            , 1];\n\n          case 7:\n            return [4\n            /*yield*/\n            , (0, provider_1.wait)(retryInterval)];\n\n          case 8:\n            _a.sent();\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n  /**\n   * Gets the transaction count from a block.\n   *\n   *\n   * @param blockIdentifier\n   * @returns Number of transactions\n   */\n\n\n  RpcProvider.prototype.getTransactionCount = function (blockIdentifier) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        if (typeof blockIdentifier === 'number') {\n          return [2\n          /*return*/\n          , this.fetchEndpoint('starknet_getBlockTransactionCountByNumber', [blockIdentifier])];\n        }\n\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_getBlockTransactionCountByHash', [blockIdentifier])];\n      });\n    });\n  };\n  /**\n   * Gets the latest block number\n   *\n   *\n   * @returns Number of the latest block\n   */\n\n\n  RpcProvider.prototype.getBlockNumber = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_blockNumber')];\n      });\n    });\n  };\n  /**\n   * Gets syncing status of the node\n   *\n   *\n   * @returns Object with the stats data\n   */\n\n\n  RpcProvider.prototype.getSyncingStats = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_syncing')];\n      });\n    });\n  };\n  /**\n   * Gets all the events filtered\n   *\n   *\n   * @returns events and the pagination of the events\n   */\n\n\n  RpcProvider.prototype.getEvents = function (eventFilter) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this.fetchEndpoint('starknet_getEvents', [eventFilter])];\n      });\n    });\n  };\n\n  return RpcProvider;\n}();\n\nexports.RpcProvider = RpcProvider;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__importDefault","mod","__esModule","Object","defineProperty","exports","RpcProvider","fetchPonyfill_1","require","hash_1","json_1","number_1","provider_1","rpc_1","stark_1","optionsOrProvider","_this","responseParser","RPCResponseParser","nodeUrl","getChainId","chainId","prototype","fetchEndpoint","method","request","_a","requestData","rawResult","_b","error","code","message","error_1","data","_c","jsonrpc","params","id","default","stringify","headers","json","Error","concat","response","getBlock","blockIdentifier","isHex","parseGetBlockResponse","getStorageAt","contractAddress","key","blockHashOrTag","parsedKey","toHex","toBN","getTransaction","txHash","parseGetTransactionResponse","getTransactionReceipt","parseGetTransactionReceiptResponse","getClassAt","_blockIdentifier","getEstimateFee","invocation","invocationDetails","contract_address","entry_point_selector","getSelectorFromName","entrypoint","calldata","parseCalldata","signature","bigNumberishArrayToDecimalStringArray","version","parseFeeEstimateResponse","declareContract","contract","contractDefinition","parseContract","program","entry_points_by_type","parseDeclareContractResponse","deployContract","constructorCalldata","addressSalt","randomAddress","parseDeployContractResponse","invokeFunction","functionInvocation","details","maxFee","parseInvokeFunctionResponse","callContract","parseCallContractResponse","getCode","parseGetCodeResponse","waitForTransaction","retryInterval","onchain","retries","successStates","errorStates","res","error_2","wait","includes","status","getTransactionCount","getBlockNumber","getSyncingStats","getEvents","eventFilter"],"sources":["/Users/rmzlb/Dropbox/Mac (2)/Documents/GitHub/8mvmt-react/node_modules/starknet/dist/provider/rpc.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RpcProvider = void 0;\nvar fetchPonyfill_1 = __importDefault(require(\"../utils/fetchPonyfill\"));\nvar hash_1 = require(\"../utils/hash\");\nvar json_1 = require(\"../utils/json\");\nvar number_1 = require(\"../utils/number\");\nvar provider_1 = require(\"../utils/provider\");\nvar rpc_1 = require(\"../utils/responseParser/rpc\");\nvar stark_1 = require(\"../utils/stark\");\nvar RpcProvider = /** @class */ (function () {\n    function RpcProvider(optionsOrProvider) {\n        var _this = this;\n        this.responseParser = new rpc_1.RPCResponseParser();\n        var nodeUrl = optionsOrProvider.nodeUrl;\n        this.nodeUrl = nodeUrl;\n        this.getChainId().then(function (chainId) {\n            _this.chainId = chainId;\n        });\n    }\n    RpcProvider.prototype.fetchEndpoint = function (method, request) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var requestData, rawResult, _b, error, result, code, message, error_1, data;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        requestData = {\n                            method: method,\n                            jsonrpc: '2.0',\n                            params: request,\n                            id: 0,\n                        };\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 4, , 5]);\n                        return [4 /*yield*/, (0, fetchPonyfill_1.default)(this.nodeUrl, {\n                                method: 'POST',\n                                body: (0, json_1.stringify)(requestData),\n                                headers: {\n                                    'Content-Type': 'application/json',\n                                },\n                            })];\n                    case 2:\n                        rawResult = _c.sent();\n                        return [4 /*yield*/, rawResult.json()];\n                    case 3:\n                        _b = _c.sent(), error = _b.error, result = _b.result;\n                        if (error) {\n                            code = error.code, message = error.message;\n                            throw new Error(\"\".concat(code, \": \").concat(message));\n                        }\n                        else {\n                            return [2 /*return*/, result];\n                        }\n                        return [3 /*break*/, 5];\n                    case 4:\n                        error_1 = _c.sent();\n                        data = (_a = error_1 === null || error_1 === void 0 ? void 0 : error_1.response) === null || _a === void 0 ? void 0 : _a.data;\n                        if (data === null || data === void 0 ? void 0 : data.message) {\n                            throw new Error(\"\".concat(data.code, \": \").concat(data.message));\n                        }\n                        throw error_1;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RpcProvider.prototype.getChainId = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_chainId')];\n            });\n        });\n    };\n    RpcProvider.prototype.getBlock = function (blockIdentifier) {\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var method;\n            return __generator(this, function (_a) {\n                method = typeof blockIdentifier === 'string' && (0, number_1.isHex)(blockIdentifier)\n                    ? 'starknet_getBlockByHash'\n                    : 'starknet_getBlockByNumber';\n                return [2 /*return*/, this.fetchEndpoint(method, [blockIdentifier]).then(this.responseParser.parseGetBlockResponse)];\n            });\n        });\n    };\n    RpcProvider.prototype.getStorageAt = function (contractAddress, key, blockHashOrTag) {\n        if (blockHashOrTag === void 0) { blockHashOrTag = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var parsedKey;\n            return __generator(this, function (_a) {\n                parsedKey = (0, number_1.toHex)((0, number_1.toBN)(key));\n                return [2 /*return*/, this.fetchEndpoint('starknet_getStorageAt', [\n                        contractAddress,\n                        parsedKey,\n                        blockHashOrTag,\n                    ])];\n            });\n        });\n    };\n    RpcProvider.prototype.getTransaction = function (txHash) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_getTransactionByHash', [txHash]).then(this.responseParser.parseGetTransactionResponse)];\n            });\n        });\n    };\n    RpcProvider.prototype.getTransactionReceipt = function (txHash) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_getTransactionReceipt', [txHash]).then(this.responseParser.parseGetTransactionReceiptResponse)];\n            });\n        });\n    };\n    RpcProvider.prototype.getClassAt = function (contractAddress, _blockIdentifier) {\n        if (_blockIdentifier === void 0) { _blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_getClassAt', [contractAddress])];\n            });\n        });\n    };\n    RpcProvider.prototype.getEstimateFee = function (invocation, blockIdentifier, invocationDetails) {\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        if (invocationDetails === void 0) { invocationDetails = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_estimateFee', [\n                        {\n                            contract_address: invocation.contractAddress,\n                            entry_point_selector: (0, hash_1.getSelectorFromName)(invocation.entrypoint),\n                            calldata: (0, provider_1.parseCalldata)(invocation.calldata),\n                            signature: (0, number_1.bigNumberishArrayToDecimalStringArray)(invocation.signature || []),\n                            version: (0, number_1.toHex)((0, number_1.toBN)((invocationDetails === null || invocationDetails === void 0 ? void 0 : invocationDetails.version) || 0)),\n                        },\n                        blockIdentifier,\n                    ]).then(this.responseParser.parseFeeEstimateResponse)];\n            });\n        });\n    };\n    RpcProvider.prototype.declareContract = function (_a) {\n        var contract = _a.contract, version = _a.version;\n        return __awaiter(this, void 0, void 0, function () {\n            var contractDefinition;\n            return __generator(this, function (_b) {\n                contractDefinition = (0, provider_1.parseContract)(contract);\n                return [2 /*return*/, this.fetchEndpoint('starknet_addDeclareTransaction', [\n                        {\n                            program: contractDefinition.program,\n                            entry_points_by_type: contractDefinition.entry_points_by_type,\n                        },\n                        (0, number_1.toHex)((0, number_1.toBN)(version || 0)),\n                    ]).then(this.responseParser.parseDeclareContractResponse)];\n            });\n        });\n    };\n    RpcProvider.prototype.deployContract = function (_a) {\n        var contract = _a.contract, constructorCalldata = _a.constructorCalldata, addressSalt = _a.addressSalt;\n        return __awaiter(this, void 0, void 0, function () {\n            var contractDefinition;\n            return __generator(this, function (_b) {\n                contractDefinition = (0, provider_1.parseContract)(contract);\n                return [2 /*return*/, this.fetchEndpoint('starknet_addDeployTransaction', [\n                        addressSalt !== null && addressSalt !== void 0 ? addressSalt : (0, stark_1.randomAddress)(),\n                        (0, number_1.bigNumberishArrayToDecimalStringArray)(constructorCalldata !== null && constructorCalldata !== void 0 ? constructorCalldata : []),\n                        {\n                            program: contractDefinition.program,\n                            entry_points_by_type: contractDefinition.entry_points_by_type,\n                        },\n                    ]).then(this.responseParser.parseDeployContractResponse)];\n            });\n        });\n    };\n    RpcProvider.prototype.invokeFunction = function (functionInvocation, details) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_addInvokeTransaction', [\n                        {\n                            contract_address: functionInvocation.contractAddress,\n                            entry_point_selector: (0, hash_1.getSelectorFromName)(functionInvocation.entrypoint),\n                            calldata: (0, provider_1.parseCalldata)(functionInvocation.calldata),\n                        },\n                        (0, number_1.bigNumberishArrayToDecimalStringArray)(functionInvocation.signature || []),\n                        (0, number_1.toHex)((0, number_1.toBN)(details.maxFee || 0)),\n                        (0, number_1.toHex)((0, number_1.toBN)(details.version || 0)),\n                    ]).then(this.responseParser.parseInvokeFunctionResponse)];\n            });\n        });\n    };\n    RpcProvider.prototype.callContract = function (call, blockIdentifier) {\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.fetchEndpoint('starknet_call', [\n                            {\n                                contract_address: call.contractAddress,\n                                entry_point_selector: (0, hash_1.getSelectorFromName)(call.entrypoint),\n                                calldata: (0, provider_1.parseCalldata)(call.calldata),\n                            },\n                            blockIdentifier,\n                        ])];\n                    case 1:\n                        result = _a.sent();\n                        return [2 /*return*/, this.responseParser.parseCallContractResponse(result)];\n                }\n            });\n        });\n    };\n    RpcProvider.prototype.getCode = function (contractAddress, _blockIdentifier) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.fetchEndpoint('starknet_getCode', [contractAddress])];\n                    case 1:\n                        result = _a.sent();\n                        return [2 /*return*/, this.responseParser.parseGetCodeResponse(result)];\n                }\n            });\n        });\n    };\n    RpcProvider.prototype.waitForTransaction = function (txHash, retryInterval) {\n        if (retryInterval === void 0) { retryInterval = 8000; }\n        return __awaiter(this, void 0, void 0, function () {\n            var onchain, retries, successStates, errorStates, res, message, error, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        onchain = false;\n                        retries = 100;\n                        _a.label = 1;\n                    case 1:\n                        if (!!onchain) return [3 /*break*/, 7];\n                        successStates = ['ACCEPTED_ON_L1', 'ACCEPTED_ON_L2', 'PENDING'];\n                        errorStates = ['REJECTED', 'NOT_RECEIVED'];\n                        // eslint-disable-next-line no-await-in-loop\n                        return [4 /*yield*/, (0, provider_1.wait)(retryInterval)];\n                    case 2:\n                        // eslint-disable-next-line no-await-in-loop\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, this.getTransactionReceipt(txHash)];\n                    case 4:\n                        res = _a.sent();\n                        if (successStates.includes(res.status)) {\n                            onchain = true;\n                        }\n                        else if (errorStates.includes(res.status)) {\n                            message = res.status;\n                            error = new Error(message);\n                            error.response = res;\n                            throw error;\n                        }\n                        return [3 /*break*/, 6];\n                    case 5:\n                        error_2 = _a.sent();\n                        if (error_2 instanceof Error && errorStates.includes(error_2.message)) {\n                            throw error_2;\n                        }\n                        if (retries === 0) {\n                            throw error_2;\n                        }\n                        return [3 /*break*/, 6];\n                    case 6:\n                        retries -= 1;\n                        return [3 /*break*/, 1];\n                    case 7: return [4 /*yield*/, (0, provider_1.wait)(retryInterval)];\n                    case 8:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Gets the transaction count from a block.\n     *\n     *\n     * @param blockIdentifier\n     * @returns Number of transactions\n     */\n    RpcProvider.prototype.getTransactionCount = function (blockIdentifier) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (typeof blockIdentifier === 'number') {\n                    return [2 /*return*/, this.fetchEndpoint('starknet_getBlockTransactionCountByNumber', [blockIdentifier])];\n                }\n                return [2 /*return*/, this.fetchEndpoint('starknet_getBlockTransactionCountByHash', [blockIdentifier])];\n            });\n        });\n    };\n    /**\n     * Gets the latest block number\n     *\n     *\n     * @returns Number of the latest block\n     */\n    RpcProvider.prototype.getBlockNumber = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_blockNumber')];\n            });\n        });\n    };\n    /**\n     * Gets syncing status of the node\n     *\n     *\n     * @returns Object with the stats data\n     */\n    RpcProvider.prototype.getSyncingStats = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_syncing')];\n            });\n        });\n    };\n    /**\n     * Gets all the events filtered\n     *\n     *\n     * @returns events and the pagination of the events\n     */\n    RpcProvider.prototype.getEvents = function (eventFilter) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_getEvents', [eventFilter])];\n            });\n        });\n    };\n    return RpcProvider;\n}());\nexports.RpcProvider = RpcProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}